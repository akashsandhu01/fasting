<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fasting Timer</title>

<style>
:root {
  --bg:#0b0f17;
  --card:#121827;
  --text:#e8eefc;
  --muted:#94a3b8;
  --accent:#60a5fa;
  --good:#4ade80;
  --bad:#fb7185;
}

* { box-sizing:border-box; font-family:system-ui; transition:.25s }
body {
  margin:0; background:var(--bg); color:var(--text);
  min-height:100vh; display:flex; align-items:center; justify-content:center;
}

.hidden { display:none !important; }

.card {
  background:var(--card);
  padding:28px;
  border-radius:18px;
  width:100%;
  max-width:420px;
  box-shadow:0 30px 80px rgba(0,0,0,.45);
  animation: fadeUp .5s ease;
}

@keyframes fadeUp {
  from { opacity:0; transform:translateY(20px) }
  to { opacity:1; transform:none }
}

h1 { margin:0 0 10px }
p { color:var(--muted); font-size:14px }

input, select, button {
  width:100%; padding:12px 14px;
  border-radius:12px; border:none;
  background:#0f172a; color:var(--text);
  margin-top:10px;
}

button.primary {
  background:linear-gradient(135deg,#60a5fa,#3b82f6);
  font-weight:600;
  cursor:pointer;
}
button.secondary {
  background:#1e293b;
}

button:hover { transform:translateY(-1px) }

.timer {
  text-align:center;
  font-size:42px;
  margin:20px 0;
  letter-spacing:1px;
}

.status {
  display:flex; align-items:center; gap:8px;
  justify-content:center;
  font-size:14px; color:var(--muted);
}

.dot {
  width:10px; height:10px; border-radius:50%;
  background:var(--bad);
}
.dot.active {
  background:var(--good);
  animation:pulse 1.4s infinite;
}

@keyframes pulse {
  0%{opacity:.5} 50%{opacity:1} 100%{opacity:.5}
}

.progress {
  height:8px; background:#1e293b;
  border-radius:999px; overflow:hidden;
}
.progress > div {
  height:100%; width:0%;
  background:linear-gradient(90deg,#4ade80,#22c55e);
}

.topbar {
  display:flex; justify-content:space-between; align-items:center;
  margin-bottom:16px;
}
.topbar button {
  width:auto; padding:8px 12px;
}
</style>
</head>

<body>

<!-- AUTH VIEW -->
<div id="authView" class="card">
  <h1>Welcome</h1>
  <p>Sign in to start fasting</p>

  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">

  <button id="btnSignIn" class="primary">Sign in</button>
  <button id="btnSignUp" class="secondary">Create account</button>

  <p id="authMsg"></p>
</div>

<!-- APP VIEW -->
<div id="appView" class="card hidden">
  <div class="topbar">
    <strong>Fasting Timer</strong>
    <button id="btnSignOut" class="secondary">Sign out</button>
  </div>

  <select id="preset">
    <option value="16">16 hours</option>
    <option value="18">18 hours</option>
    <option value="20">20 hours</option>
    <option value="24">24 hours</option>
  </select>

  <div class="timer" id="timer">--:--:--</div>

  <div class="status">
    <div id="dot" class="dot"></div>
    <span id="statusText">Inactive</span>
  </div>

  <div class="progress"><div id="progressBar"></div></div>

  <button id="btnStart" class="primary">Start fast</button>
  <button id="btnEnd" class="secondary">End fast</button>

  <p id="appMsg"></p>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="./config.js"></script>
<script src="./app.js"></script>
</body>
</html>

